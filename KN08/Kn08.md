# KN08: Datenabfrage und -Manipulation 
## A) Daten hinzufügen (20%)
[Script File](https://github.com/Ilija44/m165/blob/main/KN08/CREATE.txt)

## B) Daten abfragen (20%)
### Szenario 1: Alle Bestellungen aus dem Jahr 2024
Anwendungsfall: Ich möchte alle Bestellungen aus dem Jahr 2024 bekommen

Cypher-Statements:
```
MATCH (o:Order)
WHERE o.orderDate >= date('2024-01-01')
RETURN o;

```

### Szenario 2: Alle unbezahlten Rechnungen
Anwendungsfall: Ich möchte alle unbezahlten Rechnungen anzeigen

Cypher-Statement:
```
MATCH (c:Customer)-[:HAS_ORDER]->(o:Order)-[:HAS_INVOICE {completed: false}]->(i:Invoice)
RETURN i;
```

### Szenario 3: Alle Kunden, nur mit ID und Email (Backend-Abfrage)
Anwendungsfall: Alle Kunden bekommen 

Cypher-Statement:
```
MATCH (c:Customer)
RETURN c.id, c.email;
```
### Szenario 4: Anzahl verkaufter Produkte
Anwendungsfall: Die Anzahl verkaufter Produkte bekommen

Cypher-Statement:
```
MATCH (:Order)-[:HAS_PRODUCT]->(p:Product)
RETURN COUNT(p);
```

### Erklärung
Die OPTIONAL MATCH Klausel wird verwendet, um Knoten oder Kanten zu finden, die möglicherweise nicht vorhanden sind. Wenn das Muster nicht gefunden wird, werden Nullwerte zurückgegeben, anstatt dass das Ergebnis insgesamt ausgelassen wird. Dies ist nützlich, um sicherzustellen, dass alle Ergebnisse angezeigt werden, auch wenn einige Teile des Musters fehlen.


## C) Daten löschen (20%)
Wie man hier sehen kann funktioniert die delete methode alleine nicht. Das kommt daher, da man mit dem delet befehl nur die node löscht. Die geht ja nicht, da die nodes ja noch relationships habe. Deshalb wird der fehler ausgegeben.
![image](https://github.com/Ilija44/m165/assets/113606362/66fdb4a9-a0e1-4b84-bcda-556c8870d9cb)


## D) Daten verändern (20%)

